---
title: 线程池概念
date: 2018-05-20  
tags: threadpool
---
#### 什么是线程池？
java.util.concurrent.Executors提供了一个java.util.concurrent.Excetor接口的实现用于创建线程池

多线程技术主要解决处理单元内多个线程执行的问题，他可以显著减少处理器单元的闲置时间，增加处理器单元的吞吐能力。
假设一个服务器完成一项任务所需时间为：T1创建线程时间，T2在线程中执行任务的时间，T3销毁线程的时间
如果：T1+T3远远大于T2，则可以采用线程池，以提高服务器性能。

<!-- more -->
一个线程池包括以下四个基本组成部分：
1.线程池管理器：用于创建并管理线程池，包括创建线程池，销毁线程池，添加新任务。
2.工作线程：线程池中线程，在没有任务时处于等待状态，可以循环的执行任务
3.任务接口：每个任务必须实现的接口，以供工作线程调度任务的执行，主要规定了任务的入口，任务执行完后的收尾工作，任务的执行状态等。
4.任务队列：用于存放没有处理的任务，提供一种缓冲机制。

线程池技术主要关注如何缩短或调整T1，T3时间的技术，从而提高服务器程序性能。它把T1，T3分别安排在服务器程序的启动和结束的时间段或者一些空闲的时间段，这样在服务器程序处理客户请求时，不会有T1，T3的开销了

#### 常见线程池
①newSingleThreadExecutor
单个线程池，即线程池中每次只有一个线程工作，单线程串行执行任务
②newFixedThreadExecutor
固定数量的线程池，每提交一个任务就是一个线程，直到达到线程池的最大数量，然后后面进入等待队列直到前面的任务完成才继续执行
③newCacheThreadExecutor
可缓存线程池，当线程池超过了处理任务所需的线程，那么就会回收部分空闲(一般是60秒无执行)的线程，当有任务来时，又添加新线程来执行
④newScheduleThreadExecutor
大小无限制的线程池，支持定时和周期性的执行线程